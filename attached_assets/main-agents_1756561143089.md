# AGENTS.md - LIGHTERA BUNDOKAI SYSTEM

Sistema de check-in e controle de entregas para eventos corporativos da Lightera/Furukawa Electric.
Substitui solução Digitevent (R$ 5.427,00) com funcionalidades essenciais para até 2500 participantes.

## setup

- python3 --version
- python3 -m venv venv --prompt="lightera-bundokai"
- source venv/bin/activate
- python -m pip install --upgrade pip setuptools wheel
- pip install -r requirements.txt
- cp .env.example .env
- python -c "import sqlite3; sqlite3.connect('bundokai.db').close(); print('Database initialized')"
- python scripts/setup_database.py
- mkdir -p static/qr_codes static/uploads logs reports

## test

- python -m pytest tests/ -v --tb=short --cov=app --cov-report=term-missing
- python -c "import requests; r = requests.get('http://localhost:5000/health', timeout=5); print(f'Health check: {r.status_code}' if r.status_code == 200 else 'Health check failed')"
- python tests/test_qr_generation.py
- python tests/test_checkin_flow.py

## lint

- black app.py models/ routes/ --check --diff
- flake8 app.py models/ routes/ --max-line-length=88 --statistics
- python -m py_compile app.py

## build

- python -c "import qrcode, PIL, flask, flask_sqlalchemy, pandas; print('Dependencies OK')"
- python scripts/generate_sample_data.py
- python scripts/validate_email_templates.py
- chmod +x run.sh

## run

- export FLASK_ENV=development
- python app.py

## deploy

- export FLASK_ENV=production
- export DATABASE_URL=sqlite:///bundokai_prod.db
- gunicorn --workers=4 --bind=0.0.0.0:5000 app:app

## cleanup

- find . -name "*.pyc" -delete
- find . -name "__pycache__" -type d -exec rm -rf {} +
- rm -rf static/qr_codes/*.png
- rm -rf static/uploads/*.xlsx
- rm -rf logs/*.log